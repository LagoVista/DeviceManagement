using LagoVista.IoT.DeviceManagement.Repos.Repos;
using Microsoft.VisualStudio.TestTools.UnitTesting;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace LagoVista.IoT.DeviceManagement.Core.Tests.PEMs
{
    [TestClass]
    public class PEMReconstructionTests
    {
        [TestMethod]
        public void PEM_RecreateFromFields_Tests()
        {
            var pemIndex = new PEMIndex();

            pemIndex.JSON = @"{""pemId"":""1FBFB2BE162D4AD880E610CA6CC6BE79"",""messageType"":""Regular"",""status"":""Completed"",""errorReason"":""None"",""payloadType"":""Text"",""device"":{""DatabaseName"":""nuviot"",""EntityType"":""Device"",""CreationDate"":""2018-05-08T19:55:38.000Z"",""LastUpdatedDate"":""2018-05-08T19:55:38.000Z"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""DeviceRepository"":{""Id"":""B2B8E9211AAD49A8B4B74F950AD160BC"",""Text"":""LagoVista Devices""},""Status"":{""HasValue"":true,""Value"":2,""Id"":""ready"",""Text"":""Ready""},""id"":""6C8929ECD3394AA18A454A7EE8BD837A"",""Name"":""Lago Vista Pool"",""DeviceId"":""24002a000547343337373737"",""DeviceConfiguration"":{""Id"":""16C8782E6E254DC9B48B6115DB173352"",""Text"":""Pool""},""DeviceType"":{""Id"":""B777D72BE8824809A9919AB0D4EF8684"",""Text"":""Pool""},""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""Location"":null,""OwnerUser"":null,""DeviceURI"":null,""ShowDiagnostics"":null,""SerialNumber"":""1847lagovsita"",""FirmwareVersion"":null,""IsConnected"":null,""LastContact"":""2018-06-02T12:14:23.782Z"",""PrimaryAccessKey"":""NGgyMWIxeGxjamd5M2hpNWQ="",""SecondaryAccessKey"":""ZTh2cGxnOGM1dHZqZ3kzaGk1ZA=="",""GeoLocation"":null,""Heading"":0.0,""Speeed"":0.0,""CustomStatus"":null,""DebugMode"":false,""PropertiesMetaData"":null,""AttributeMetaData"":null,""StateMachineMetaData"":null,""PropertyBag"":{},""Properties"":[{""LastUpdated"":null,""LastUpdatedBy"":null,""Name"":""Hot Tub Setpoint"",""Key"":""hottubsetpoint"",""Value"":""103"",""AttributeType"":{""HasValue"":true,""Value"":2,""Id"":""decimal"",""Text"":""Decimal""},""UnitSet"":null,""StateSet"":null},{""LastUpdated"":null,""LastUpdatedBy"":null,""Name"":""Pool Setpoint"",""Key"":""poolsetpoint"",""Value"":""87"",""AttributeType"":{""HasValue"":true,""Value"":2,""Id"":""decimal"",""Text"":""Decimal""},""UnitSet"":null,""StateSet"":null}],""States"":[{""LastUpdated"":null,""LastUpdatedBy"":null,""Name"":""Pool Status"",""Key"":""poolstatus"",""Value"":""pooloff"",""AttributeType"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""},""UnitSet"":null,""StateSet"":{""HasValue"":false,""Value"":{""DatabaseName"":null,""EntityType"":null,""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""Pool On"",""Key"":""poolon"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[{""Event"":{""HasValue"":true,""Value"":null,""Id"":""hottubon"",""Text"":""Turn Hot Tub On""},""NewState"":{""HasValue"":true,""Value"":null,""Id"":""hottubon"",""Text"":""Hot Tub On""},""TransitionAction"":null,""Description"":""""},{""Event"":{""HasValue"":true,""Value"":null,""Id"":""turnpooloff"",""Text"":""Turn Pool Off""},""NewState"":{""HasValue"":true,""Value"":null,""Id"":""pooloff"",""Text"":""Pool Off""},""TransitionAction"":null,""Description"":""""}],""Description"":null,""DiagramLocations"":[{""X"":556,""Y"":35,""Page"":1}]},{""TransitionInAction"":null,""Name"":""Pool Off"",""Key"":""pooloff"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[{""Event"":{""HasValue"":true,""Value"":null,""Id"":""poolon"",""Text"":""Turn Pool On""},""NewState"":{""HasValue"":true,""Value"":null,""Id"":""poolon"",""Text"":""Pool On""},""TransitionAction"":null,""Description"":""""},{""Event"":{""HasValue"":true,""Value"":null,""Id"":""hottubon"",""Text"":""Turn Hot Tub On""},""NewState"":{""HasValue"":true,""Value"":null,""Id"":""hottubon"",""Text"":""Hot Tub On""},""TransitionAction"":null,""Description"":""""}],""Description"":null,""DiagramLocations"":[{""X"":148,""Y"":138,""Page"":1}]},{""TransitionInAction"":null,""Name"":""Hot Tub On"",""Key"":""hottubon"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[{""Event"":{""HasValue"":true,""Value"":null,""Id"":""poolon"",""Text"":""Turn Pool On""},""NewState"":{""HasValue"":true,""Value"":null,""Id"":""poolon"",""Text"":""Pool On""},""TransitionAction"":null,""Description"":""""},{""Event"":{""HasValue"":true,""Value"":null,""Id"":""turnpooloff"",""Text"":""Turn Pool Off""},""NewState"":{""HasValue"":true,""Value"":null,""Id"":""pooloff"",""Text"":""Pool Off""},""TransitionAction"":null,""Description"":""""}],""Description"":null,""DiagramLocations"":[{""X"":542,""Y"":409,""Page"":1}]}],""RequireEnum"":false,""Key"":null,""IsPublic"":false,""OwnerOrganization"":null,""OwnerUser"":null,""id"":""6AA35E8626D7401DAB12E3180DEE7C93"",""CreationDate"":null,""CreatedBy"":null,""LastUpdatedDate"":null,""LastUpdatedBy"":null,""Name"":null,""Description"":null,""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":null,""Text"":null}}],""Attributes"":[{""LastUpdated"":null,""LastUpdatedBy"":null,""Name"":""Counter Value"",""Key"":""counter"",""Value"":""1"",""AttributeType"":{""HasValue"":true,""Value"":1,""Id"":""integer"",""Text"":""Integer""},""UnitSet"":null,""StateSet"":null},{""LastUpdated"":null,""LastUpdatedBy"":null,""Name"":""Compressor State"",""Key"":""compressorstate"",""Value"":""off"",""AttributeType"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""},""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""On"",""Key"":""on"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Off"",""Key"":""off"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":null,""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""onoff"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""A6F0263F5B1944B191DCCC9A8239A196"",""CreationDate"":""11/03/2017 11:34:17"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""05/08/2018 18:51:00"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""On/Off"",""Description"":"""",""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""A6F0263F5B1944B191DCCC9A8239A196"",""Text"":""On/Off""}},{""LastUpdated"":null,""LastUpdatedBy"":null,""Name"":""Fan State"",""Key"":""fanstate"",""Value"":""off"",""AttributeType"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""},""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""On"",""Key"":""on"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Off"",""Key"":""off"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":null,""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""onoff"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""A6F0263F5B1944B191DCCC9A8239A196"",""CreationDate"":""11/03/2017 11:34:17"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""05/08/2018 18:51:00"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""On/Off"",""Description"":"""",""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""A6F0263F5B1944B191DCCC9A8239A196"",""Text"":""On/Off""}},{""LastUpdated"":null,""LastUpdatedBy"":null,""Name"":""Water Source"",""Key"":""watersource"",""Value"":""pool"",""AttributeType"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""},""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""Unknown"",""Key"":""unknown"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Pool"",""Key"":""pool"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""Water is coming from the pool"",""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Both"",""Key"":""both"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""Water is coming from both the pool and the spa"",""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Spa"",""Key"":""spa"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""Water is coming from the spa"",""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""watersource"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""D1257B5DABF04D63A3AA7CE6FF1C7311"",""CreationDate"":""11/05/2017 18:45:01"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""11/05/2017 18:45:01"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""Input Water Source"",""Description"":null,""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""D1257B5DABF04D63A3AA7CE6FF1C7311"",""Text"":""Input Water Source""}},{""LastUpdated"":null,""LastUpdatedBy"":null,""Name"":""Pool Water Output"",""Key"":""outputmode"",""Value"":""both"",""AttributeType"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""},""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""Unknown"",""Key"":""unknown"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":""Unknown where the water is output."",""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Pool"",""Key"":""pool"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""Water is only going to the pool."",""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Spa"",""Key"":""spa"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""Water is only going to the spa."",""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Both"",""Key"":""both"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""Water is going to both the pool and the spa."",""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""poolwateroutput"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""A25FD9DE0604441EADCBF18BD60F2823"",""CreationDate"":""11/05/2017 18:46:48"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""11/05/2017 18:46:48"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""Pool Water Output"",""Description"":null,""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""A25FD9DE0604441EADCBF18BD60F2823"",""Text"":""Pool Water Output""}},{""LastUpdated"":null,""LastUpdatedBy"":null,""Name"":""Spa Mode"",""Key"":""spamode"",""Value"":""jets"",""AttributeType"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""},""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""Unknown"",""Key"":""unknown"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Normal"",""Key"":""normal"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""Single flow in, usually used in conjunction with pool"",""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Jets"",""Key"":""jets"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""The three output nozzles that provide air infused jets into the hot tub"",""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""spamode"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""88D4300C8DA445EEA295BFA3D73B8548"",""CreationDate"":""11/05/2017 18:42:07"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""11/05/2017 18:42:07"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""Spa Mode"",""Description"":null,""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""88D4300C8DA445EEA295BFA3D73B8548"",""Text"":""Spa Mode""}},{""LastUpdated"":null,""LastUpdatedBy"":null,""Name"":""Temperature Into Heater"",""Key"":""temperaturein"",""Value"":""86"",""AttributeType"":{""HasValue"":true,""Value"":2,""Id"":""decimal"",""Text"":""Decimal""},""UnitSet"":null,""StateSet"":null},{""LastUpdated"":null,""LastUpdatedBy"":null,""Name"":""Temperature From Heater"",""Key"":""temperatureout"",""Value"":""62"",""AttributeType"":{""HasValue"":true,""Value"":2,""Id"":""decimal"",""Text"":""Decimal""},""UnitSet"":null,""StateSet"":null},{""LastUpdated"":null,""LastUpdatedBy"":null,""Name"":""High Pressure"",""Key"":""highpressure"",""Value"":""ok"",""AttributeType"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""},""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""OK"",""Key"":""ok"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Warning"",""Key"":""warning"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":null,""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""okwarning"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""A829E2F83BEF4C15B0500D5BAB3ABF92"",""CreationDate"":""05/08/2018 18:40:07"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""05/08/2018 18:40:07"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""OK/Warning"",""Description"":null,""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""A829E2F83BEF4C15B0500D5BAB3ABF92"",""Text"":""OK/Warning""}},{""LastUpdated"":null,""LastUpdatedBy"":null,""Name"":""Low Pressure"",""Key"":""lowpressure"",""Value"":""ok"",""AttributeType"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""},""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""OK"",""Key"":""ok"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Warning"",""Key"":""warning"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":null,""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""okwarning"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""A829E2F83BEF4C15B0500D5BAB3ABF92"",""CreationDate"":""05/08/2018 18:40:07"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""05/08/2018 18:40:07"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""OK/Warning"",""Description"":null,""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""A829E2F83BEF4C15B0500D5BAB3ABF92"",""Text"":""OK/Warning""}},{""LastUpdated"":null,""LastUpdatedBy"":null,""Name"":""Water Flow"",""Key"":""waterflow"",""Value"":""warning"",""AttributeType"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""},""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""OK"",""Key"":""ok"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Warning"",""Key"":""warning"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":null,""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""okwarning"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""A829E2F83BEF4C15B0500D5BAB3ABF92"",""CreationDate"":""05/08/2018 18:40:07"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""05/08/2018 18:40:07"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""OK/Warning"",""Description"":null,""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""A829E2F83BEF4C15B0500D5BAB3ABF92"",""Text"":""OK/Warning""}},{""LastUpdated"":null,""LastUpdatedBy"":null,""Name"":""Pool Mode"",""Key"":""poolmode"",""Value"":""off"",""AttributeType"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""},""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""Off"",""Key"":""off"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Pool"",""Key"":""pool"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Spa"",""Key"":""spa"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":null,""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""poolmode"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""9C5ECC78068243739DB1D67EAE39D5AF"",""CreationDate"":""11/05/2017 18:38:14"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""11/05/2017 18:38:14"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""Pool Mode"",""Description"":null,""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""9C5ECC78068243739DB1D67EAE39D5AF"",""Text"":""Pool Mode""}}],""MessageValues"":[{""LastUpdated"":""2018-06-02T12:14:23.942Z"",""LastUpdatedBy"":""Message"",""Name"":""Pool Mode"",""Key"":""poolmode"",""Value"":""off"",""AttributeType"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""},""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""Off"",""Key"":""off"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Pool"",""Key"":""pool"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Spa"",""Key"":""spa"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":null,""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""poolmode"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""9C5ECC78068243739DB1D67EAE39D5AF"",""CreationDate"":""2017-11-05T18:38:14.629Z"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""2017-11-05T18:38:14.629Z"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""Pool Mode"",""Description"":null,""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""9C5ECC78068243739DB1D67EAE39D5AF"",""Text"":""Pool Mode""}},{""LastUpdated"":""2018-06-02T12:14:23.942Z"",""LastUpdatedBy"":""Message"",""Name"":""Temperature In"",""Key"":""temperaturein"",""Value"":""86"",""AttributeType"":{""HasValue"":true,""Value"":2,""Id"":""decimal"",""Text"":""Decimal""},""UnitSet"":null,""StateSet"":null},{""LastUpdated"":""2018-06-02T12:14:23.942Z"",""LastUpdatedBy"":""Message"",""Name"":""Temperature Out"",""Key"":""temperatureout"",""Value"":""62"",""AttributeType"":{""HasValue"":true,""Value"":2,""Id"":""decimal"",""Text"":""Decimal""},""UnitSet"":null,""StateSet"":null},{""LastUpdated"":""2018-06-02T12:14:23.942Z"",""LastUpdatedBy"":""Message"",""Name"":""Spa Mode"",""Key"":""spamode"",""Value"":""jets"",""AttributeType"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""},""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""Unknown"",""Key"":""unknown"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Normal"",""Key"":""normal"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""Single flow in, usually used in conjunction with pool"",""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Jets"",""Key"":""jets"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""The three output nozzles that provide air infused jets into the hot tub"",""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""spamode"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""88D4300C8DA445EEA295BFA3D73B8548"",""CreationDate"":""2017-11-05T18:42:07.794Z"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""2017-11-05T18:42:07.794Z"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""Spa Mode"",""Description"":null,""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""88D4300C8DA445EEA295BFA3D73B8548"",""Text"":""Spa Mode""}},{""LastUpdated"":""2018-06-02T12:14:23.942Z"",""LastUpdatedBy"":""Message"",""Name"":""Current Water Source"",""Key"":""watersource"",""Value"":""pool"",""AttributeType"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""},""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""Unknown"",""Key"":""unknown"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Pool"",""Key"":""pool"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""Water is coming from the pool"",""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Both"",""Key"":""both"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""Water is coming from both the pool and the spa"",""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Spa"",""Key"":""spa"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""Water is coming from the spa"",""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""watersource"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""D1257B5DABF04D63A3AA7CE6FF1C7311"",""CreationDate"":""2017-11-05T18:45:01.022Z"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""2017-11-05T18:45:01.022Z"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""Input Water Source"",""Description"":null,""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""D1257B5DABF04D63A3AA7CE6FF1C7311"",""Text"":""Input Water Source""}},{""LastUpdated"":""2018-06-02T12:14:23.942Z"",""LastUpdatedBy"":""Message"",""Name"":""Current Water Output"",""Key"":""currentwateroutput"",""Value"":""both"",""AttributeType"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""},""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""Unknown"",""Key"":""unknown"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":""Unknown where the water is output."",""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Pool"",""Key"":""pool"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""Water is only going to the pool."",""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Spa"",""Key"":""spa"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""Water is only going to the spa."",""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Both"",""Key"":""both"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""Water is going to both the pool and the spa."",""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""poolwateroutput"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""A25FD9DE0604441EADCBF18BD60F2823"",""CreationDate"":""2017-11-05T18:46:48.585Z"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""2017-11-05T18:46:48.585Z"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""Pool Water Output"",""Description"":null,""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""A25FD9DE0604441EADCBF18BD60F2823"",""Text"":""Pool Water Output""}},{""LastUpdated"":""2018-06-02T12:14:23.942Z"",""LastUpdatedBy"":""Message"",""Name"":""RSSI"",""Key"":""rssi"",""Value"":""-57"",""AttributeType"":{""HasValue"":true,""Value"":1,""Id"":""integer"",""Text"":""Integer""},""UnitSet"":null,""StateSet"":null},{""LastUpdated"":""2018-06-02T12:14:23.942Z"",""LastUpdatedBy"":""Message"",""Name"":""Flow"",""Key"":""flow"",""Value"":""warning"",""AttributeType"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""},""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""OK"",""Key"":""ok"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Warning"",""Key"":""warning"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":null,""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""okwarning"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""A829E2F83BEF4C15B0500D5BAB3ABF92"",""CreationDate"":""2018-05-08T18:40:07.072Z"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""2018-05-08T18:40:07.072Z"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""OK/Warning"",""Description"":null,""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""A829E2F83BEF4C15B0500D5BAB3ABF92"",""Text"":""OK/Warning""}},{""LastUpdated"":""2018-06-02T12:14:23.942Z"",""LastUpdatedBy"":""Message"",""Name"":""Compressor State"",""Key"":""compressorstate"",""Value"":""off"",""AttributeType"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""},""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""On"",""Key"":""on"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Off"",""Key"":""off"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":null,""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""onoff"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""A6F0263F5B1944B191DCCC9A8239A196"",""CreationDate"":""2017-11-03T11:34:17.977Z"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""2018-05-08T18:51:00.589Z"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""On/Off"",""Description"":"""",""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""A6F0263F5B1944B191DCCC9A8239A196"",""Text"":""On/Off""}},{""LastUpdated"":""2018-06-02T12:14:23.942Z"",""LastUpdatedBy"":""Message"",""Name"":""Fan State"",""Key"":""fanstate"",""Value"":""off"",""AttributeType"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""},""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""On"",""Key"":""on"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Off"",""Key"":""off"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":null,""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""onoff"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""A6F0263F5B1944B191DCCC9A8239A196"",""CreationDate"":""2017-11-03T11:34:17.977Z"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""2018-05-08T18:51:00.589Z"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""On/Off"",""Description"":"""",""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""A6F0263F5B1944B191DCCC9A8239A196"",""Text"":""On/Off""}},{""LastUpdated"":""2018-06-02T12:14:23.942Z"",""LastUpdatedBy"":""Message"",""Name"":""Low Pressure"",""Key"":""lowpressure"",""Value"":""ok"",""AttributeType"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""},""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""OK"",""Key"":""ok"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Warning"",""Key"":""warning"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":null,""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""okwarning"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""A829E2F83BEF4C15B0500D5BAB3ABF92"",""CreationDate"":""2018-05-08T18:40:07.072Z"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""2018-05-08T18:40:07.072Z"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""OK/Warning"",""Description"":null,""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""A829E2F83BEF4C15B0500D5BAB3ABF92"",""Text"":""OK/Warning""}},{""LastUpdated"":""2018-06-02T12:14:23.942Z"",""LastUpdatedBy"":""Message"",""Name"":""High Pressure"",""Key"":""highpressure"",""Value"":""ok"",""AttributeType"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""},""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""OK"",""Key"":""ok"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Warning"",""Key"":""warning"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":null,""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""okwarning"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""A829E2F83BEF4C15B0500D5BAB3ABF92"",""CreationDate"":""2018-05-08T18:40:07.072Z"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""2018-05-08T18:40:07.072Z"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""OK/Warning"",""Description"":null,""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""A829E2F83BEF4C15B0500D5BAB3ABF92"",""Text"":""OK/Warning""}}],""InputCommandEndPoints"":null,""DeviceGroups"":[],""Notes"":[]},""instructions"":null,""creationTimeStamp"":""2018-06-02T12:14:23.782Z"",""completionTimeStamp"":""2018-06-02T12:14:24.026Z"",""executionTimeMS"":243.51199999999997,""envelope"":{""deviceRepoId"":""B2B8E9211AAD49A8B4B74F950AD160BC"",""deviceid"":""24002a000547343337373737"",""method"":""POST"",""path"":""/poolstatus/24002a000547343337373737"",""headers"":{""method"":""POST"",""2CACE6AC9FE742388E7FD9AB7DEB0D9D"":""CD8E9BBE586D48378EE0531055EEAD44"",""Connection"":""close"",""Content-Type"":""application/json"",""Host"":""lagovista.softwarelogistics.iothost.net"",""Content-Length"":""233""}},""payloadLength"":233,""messageId"":""poolstatus""}";
            pemIndex.TextPayload = "{\"mode\":\"off\",\"temperatureIn\":86,\"temperatureOut\":62,\"flow\":\"warning\",\"lowPressure\":\"ok\",\"highPressure\":\"ok\",\"fanState\":\"off\",\"compressorState\":\"off\",\"currentSpaMode\":\"jets\",\"currentSource\":\"pool\",\"currentOutput\":\"both\",\"rssi\":\"-57\"}";
            pemIndex.OutgoingMessages = "[{'msgid':'001'},{'msgid':'002'}]";
            pemIndex.Values = @"{""poolmode"":{""Name"":""Pool Mode"",""Key"":""poolmode"",""Value"":""off"",""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""Off"",""Key"":""off"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Pool"",""Key"":""pool"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Spa"",""Key"":""spa"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":null,""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""poolmode"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""9C5ECC78068243739DB1D67EAE39D5AF"",""CreationDate"":""2017-11-05T18:38:14.629Z"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""2017-11-05T18:38:14.629Z"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""Pool Mode"",""Description"":null,""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""9C5ECC78068243739DB1D67EAE39D5AF"",""Text"":""Pool Mode""},""Type"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""}},""temperaturein"":{""Name"":""Temperature In"",""Key"":""temperaturein"",""Value"":""86"",""UnitSet"":null,""StateSet"":null,""Type"":{""HasValue"":true,""Value"":2,""Id"":""decimal"",""Text"":""Decimal""}},""temperatureout"":{""Name"":""Temperature Out"",""Key"":""temperatureout"",""Value"":""62"",""UnitSet"":null,""StateSet"":null,""Type"":{""HasValue"":true,""Value"":2,""Id"":""decimal"",""Text"":""Decimal""}},""spamode"":{""Name"":""Spa Mode"",""Key"":""spamode"",""Value"":""jets"",""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""Unknown"",""Key"":""unknown"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Normal"",""Key"":""normal"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""Single flow in, usually used in conjunction with pool"",""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Jets"",""Key"":""jets"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""The three output nozzles that provide air infused jets into the hot tub"",""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""spamode"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""88D4300C8DA445EEA295BFA3D73B8548"",""CreationDate"":""2017-11-05T18:42:07.794Z"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""2017-11-05T18:42:07.794Z"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""Spa Mode"",""Description"":null,""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""88D4300C8DA445EEA295BFA3D73B8548"",""Text"":""Spa Mode""},""Type"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""}},""watersource"":{""Name"":""Current Water Source"",""Key"":""watersource"",""Value"":""pool"",""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""Unknown"",""Key"":""unknown"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Pool"",""Key"":""pool"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""Water is coming from the pool"",""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Both"",""Key"":""both"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""Water is coming from both the pool and the spa"",""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Spa"",""Key"":""spa"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""Water is coming from the spa"",""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""watersource"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""D1257B5DABF04D63A3AA7CE6FF1C7311"",""CreationDate"":""2017-11-05T18:45:01.022Z"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""2017-11-05T18:45:01.022Z"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""Input Water Source"",""Description"":null,""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""D1257B5DABF04D63A3AA7CE6FF1C7311"",""Text"":""Input Water Source""},""Type"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""}},""currentwateroutput"":{""Name"":""Current Water Output"",""Key"":""currentwateroutput"",""Value"":""both"",""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""Unknown"",""Key"":""unknown"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":""Unknown where the water is output."",""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Pool"",""Key"":""pool"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""Water is only going to the pool."",""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Spa"",""Key"":""spa"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""Water is only going to the spa."",""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Both"",""Key"":""both"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":""Water is going to both the pool and the spa."",""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""poolwateroutput"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""A25FD9DE0604441EADCBF18BD60F2823"",""CreationDate"":""2017-11-05T18:46:48.585Z"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""2017-11-05T18:46:48.585Z"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""Pool Water Output"",""Description"":null,""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""A25FD9DE0604441EADCBF18BD60F2823"",""Text"":""Pool Water Output""},""Type"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""}},""rssi"":{""Name"":""RSSI"",""Key"":""rssi"",""Value"":""-57"",""UnitSet"":null,""StateSet"":null,""Type"":{""HasValue"":true,""Value"":1,""Id"":""integer"",""Text"":""Integer""}},""flow"":{""Name"":""Flow"",""Key"":""flow"",""Value"":""warning"",""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""OK"",""Key"":""ok"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Warning"",""Key"":""warning"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":null,""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""okwarning"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""A829E2F83BEF4C15B0500D5BAB3ABF92"",""CreationDate"":""2018-05-08T18:40:07.072Z"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""2018-05-08T18:40:07.072Z"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""OK/Warning"",""Description"":null,""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""A829E2F83BEF4C15B0500D5BAB3ABF92"",""Text"":""OK/Warning""},""Type"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""}},""compressorstate"":{""Name"":""Compressor State"",""Key"":""compressorstate"",""Value"":""off"",""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""On"",""Key"":""on"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Off"",""Key"":""off"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":null,""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""onoff"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""A6F0263F5B1944B191DCCC9A8239A196"",""CreationDate"":""2017-11-03T11:34:17.977Z"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""2018-05-08T18:51:00.589Z"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""On/Off"",""Description"":"""",""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""A6F0263F5B1944B191DCCC9A8239A196"",""Text"":""On/Off""},""Type"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""}},""fanstate"":{""Name"":""Fan State"",""Key"":""fanstate"",""Value"":""off"",""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""On"",""Key"":""on"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Off"",""Key"":""off"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":null,""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""onoff"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""A6F0263F5B1944B191DCCC9A8239A196"",""CreationDate"":""2017-11-03T11:34:17.977Z"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""2018-05-08T18:51:00.589Z"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""On/Off"",""Description"":"""",""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""A6F0263F5B1944B191DCCC9A8239A196"",""Text"":""On/Off""},""Type"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""}},""lowpressure"":{""Name"":""Low Pressure"",""Key"":""lowpressure"",""Value"":""ok"",""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""OK"",""Key"":""ok"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Warning"",""Key"":""warning"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":null,""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""okwarning"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""A829E2F83BEF4C15B0500D5BAB3ABF92"",""CreationDate"":""2018-05-08T18:40:07.072Z"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""2018-05-08T18:40:07.072Z"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""OK/Warning"",""Description"":null,""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""A829E2F83BEF4C15B0500D5BAB3ABF92"",""Text"":""OK/Warning""},""Type"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""}},""highpressure"":{""Name"":""High Pressure"",""Key"":""highpressure"",""Value"":""ok"",""UnitSet"":null,""StateSet"":{""HasValue"":true,""Value"":{""DatabaseName"":""nuviot"",""EntityType"":""StateSet"",""IsLocked"":false,""LockedBy"":null,""LockedDateStamp"":null,""States"":[{""TransitionInAction"":null,""Name"":""OK"",""Key"":""ok"",""EnumValue"":null,""IsInitialState"":true,""Transitions"":[],""Description"":null,""DiagramLocations"":[]},{""TransitionInAction"":null,""Name"":""Warning"",""Key"":""warning"",""EnumValue"":null,""IsInitialState"":false,""Transitions"":[],""Description"":null,""DiagramLocations"":[]}],""RequireEnum"":false,""Key"":""okwarning"",""IsPublic"":false,""OwnerOrganization"":{""Id"":""AA2C78499D0140A5A9CE4B7581EF9691"",""Text"":""Software Logistics""},""OwnerUser"":null,""id"":""A829E2F83BEF4C15B0500D5BAB3ABF92"",""CreationDate"":""2018-05-08T18:40:07.072Z"",""CreatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""LastUpdatedDate"":""2018-05-08T18:40:07.072Z"",""LastUpdatedBy"":{""Id"":""CC648B3B51164A8296EB7092F312D5CB"",""Text"":""Kevin Wolf""},""Name"":""OK/Warning"",""Description"":null,""Notes"":[],""IsValid"":true,""ValidationErrors"":[]},""Id"":""A829E2F83BEF4C15B0500D5BAB3ABF92"",""Text"":""OK/Warning""},""Type"":{""HasValue"":true,""Value"":6,""Id"":""state"",""Text"":""States""}}}";
            pemIndex.Instructions = @"[{""name"":""REST 9000"",""type"":""RESTListener"",""queueUri"":null,""queueId"":""E7A28C0078374CA4910126DCAD409ED3"",""enqueued"":""2018-06-02T12:14:23.782Z"",""startDateStamp"":""2018-06-02T12:14:23.782Z"",""timeInQueueMS"":0.0,""processByHostId"":""AEFCC95E48D640D7A50B3A4A5FB3CE52"",""executionTimeMS"":0.168},{""name"":""Pool Planner"",""type"":""Planner"",""queueUri"":null,""queueId"":""843985724D08451797AA1A4CF8AE9FB7"",""enqueued"":""2018-06-02T12:14:23.782Z"",""startDateStamp"":""2018-06-02T12:14:23.782Z"",""timeInQueueMS"":0.21,""processByHostId"":""AEFCC95E48D640D7A50B3A4A5FB3CE52"",""executionTimeMS"":158.953},{""name"":""Anonymous"",""type"":""Sentinel"",""queueUri"":null,""queueId"":""3C570A76989C4FE4A03B3B0E578803A2"",""enqueued"":""2018-06-02T12:14:23.941Z"",""startDateStamp"":""2018-06-02T12:14:23.941Z"",""timeInQueueMS"":0.08,""processByHostId"":""AEFCC95E48D640D7A50B3A4A5FB3CE52"",""executionTimeMS"":0.016},{""name"":""Message Based"",""type"":""Input Translator"",""queueUri"":null,""queueId"":""B0AD07CADE8F473D87406DF3E50C4C0D"",""enqueued"":""2018-06-02T12:14:23.941Z"",""startDateStamp"":""2018-06-02T12:14:23.942Z"",""timeInQueueMS"":0.08,""processByHostId"":""AEFCC95E48D640D7A50B3A4A5FB3CE52"",""executionTimeMS"":42.304},{""name"":""Pool Workflow"",""type"":""Workflow"",""queueUri"":null,""queueId"":""B2CFFE1F988B4165876F71A60613BBB3"",""enqueued"":""2018-06-02T12:14:23.984Z"",""startDateStamp"":""2018-06-02T12:14:23.984Z"",""timeInQueueMS"":0.26,""processByHostId"":""AEFCC95E48D640D7A50B3A4A5FB3CE52"",""executionTimeMS"":0.432},{""name"":""Messag Based"",""type"":""Output Translator"",""queueUri"":null,""queueId"":""F881085852844890AC9E84695657AD26"",""enqueued"":""2018-06-02T12:14:23.985Z"",""startDateStamp"":""2018-06-02T12:14:23.985Z"",""timeInQueueMS"":0.07,""processByHostId"":""AEFCC95E48D640D7A50B3A4A5FB3CE52"",""executionTimeMS"":0.009},{""name"":""Temperature Logging"",""type"":""DataStream"",""queueUri"":null,""queueId"":""607C8195E71E40B6B53160A1A737ACEC"",""enqueued"":""2018-06-02T12:14:23.985Z"",""startDateStamp"":""2018-06-02T12:14:23.985Z"",""timeInQueueMS"":0.06,""processByHostId"":""AEFCC95E48D640D7A50B3A4A5FB3CE52"",""executionTimeMS"":41.798}]";
            pemIndex.Log = "[{'log':'001'},{'log':'002'}]";
            pemIndex.ResponseMessage = "{'resp':'001'}";

            var pem = pemIndex.ToPEM();
            Console.WriteLine(pem.Result);
        }

    }
}
